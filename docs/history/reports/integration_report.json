{
  "metadata": {
    "test_suite": "Integration Tests",
    "version": "1.0.0",
    "timestamp": "2025-11-15T21:14:30.749Z",
    "duration_ms": 1116
  },
  "summary": {
    "total_tests": 10,
    "successful": 10,
    "failed": 0,
    "success_rate": "100.00%",
    "spec_usage": {
      "kiro-adaptive-assistance": 4,
      "whispers-of-the-wave": 6
    },
    "pattern_usage": {
      "career_guidance": 2,
      "emotional_low": 2,
      "decision_making": 2,
      "general_support": 3,
      "emotional_support": 1
    },
    "avg_routing_confidence": "0.364",
    "avg_processing_time_ms": "0.20",
    "total_duration_ms": 1116,
    "errors_count": 0
  },
  "test_results": [
    {
      "test_number": 1,
      "input": "No sé qué estudiar",
      "timestamp": "2025-11-15T21:14:29.644Z",
      "routing": {
        "spec": "kiro-adaptive-assistance",
        "confidence": 0.48,
        "reason": "1 keywords matched, pattern detected: career_guidance",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241269645-pkbzhdq7x",
        "spec": "kiro-adaptive-assistance",
        "routing_confidence": 0.48,
        "context_intent": "career_guidance"
      },
      "response": {
        "success": true,
        "spec": "kiro-adaptive-assistance",
        "pattern_used": "career_guidance",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 2
    },
    {
      "test_number": 2,
      "input": "Me siento muy triste últimamente",
      "timestamp": "2025-11-15T21:14:29.758Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0.56,
        "reason": "2 keywords matched, pattern detected: emotional_low",
        "alternatives": [
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241269759-vjz7yglca",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0.56,
        "context_intent": "emotional_low"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "emotional_low",
        "confidence": 0.85,
        "processing_time_ms": 1,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 3
    },
    {
      "test_number": 3,
      "input": "¿Qué debería estudiar, diseño o programación?",
      "timestamp": "2025-11-15T21:14:29.867Z",
      "routing": {
        "spec": "kiro-adaptive-assistance",
        "confidence": 0.72,
        "reason": "4 keywords matched, pattern detected: decision_making",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241269867-svmeyr8dv",
        "spec": "kiro-adaptive-assistance",
        "routing_confidence": 0.72,
        "context_intent": "decision_making"
      },
      "response": {
        "success": true,
        "spec": "kiro-adaptive-assistance",
        "pattern_used": "decision_making",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    },
    {
      "test_number": 4,
      "input": "Cuéntame una escena de la orilla",
      "timestamp": "2025-11-15T21:14:29.976Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0,
        "reason": "Low confidence - using default spec (no strong signals detected)",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          },
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241269977-nef43it92",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0,
        "context_intent": "unclear"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "general_support",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 2
    },
    {
      "test_number": 5,
      "input": "Necesito orientacion profesional",
      "timestamp": "2025-11-15T21:14:30.085Z",
      "routing": {
        "spec": "kiro-adaptive-assistance",
        "confidence": 0.56,
        "reason": "2 keywords matched, pattern detected: career_guidance",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0.4,
            "reason": "pattern detected: seeking_comfort"
          }
        ]
      },
      "request": {
        "id": "req-1763241270086-f1ol70hy7",
        "spec": "kiro-adaptive-assistance",
        "routing_confidence": 0.56,
        "context_intent": "career_guidance"
      },
      "response": {
        "success": true,
        "spec": "kiro-adaptive-assistance",
        "pattern_used": "career_guidance",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    },
    {
      "test_number": 6,
      "input": "Estoy estresado y no puedo dormir",
      "timestamp": "2025-11-15T21:14:30.195Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0.4,
        "reason": "pattern detected: emotional_low",
        "alternatives": [
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241270195-oqnwdwrg5",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0.4,
        "context_intent": "emotional_low"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "emotional_low",
        "confidence": 0.85,
        "processing_time_ms": 1,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    },
    {
      "test_number": 7,
      "input": "Quiero dejar esto por ahora",
      "timestamp": "2025-11-15T21:14:30.305Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0,
        "reason": "Low confidence - using default spec (no strong signals detected)",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          },
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241270305-5rlc88cxu",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0,
        "context_intent": "unclear"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "general_support",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    },
    {
      "test_number": 8,
      "input": "Ayúdame a decidir entre A y B",
      "timestamp": "2025-11-15T21:14:30.415Z",
      "routing": {
        "spec": "kiro-adaptive-assistance",
        "confidence": 0.64,
        "reason": "3 keywords matched, pattern detected: decision_making",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241270415-nzovbdq3i",
        "spec": "kiro-adaptive-assistance",
        "routing_confidence": 0.64,
        "context_intent": "decision_making"
      },
      "response": {
        "success": true,
        "spec": "kiro-adaptive-assistance",
        "pattern_used": "decision_making",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 0
    },
    {
      "test_number": 9,
      "input": "No sé si esto tiene sentido",
      "timestamp": "2025-11-15T21:14:30.526Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0.28,
        "reason": "Low confidence - using default spec (1 keywords matched)",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0.28,
            "reason": "1 keywords matched"
          },
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241270527-35ejhdum2",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0.28,
        "context_intent": "emotional_support"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "emotional_support",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    },
    {
      "test_number": 10,
      "input": "Gracias, eso ayudó",
      "timestamp": "2025-11-15T21:14:30.638Z",
      "routing": {
        "spec": "whispers-of-the-wave",
        "confidence": 0,
        "reason": "Low confidence - using default spec (no strong signals detected)",
        "alternatives": [
          {
            "spec": "whispers-of-the-wave",
            "confidence": 0,
            "reason": "no strong signals detected"
          },
          {
            "spec": "kiro-adaptive-assistance",
            "confidence": 0,
            "reason": "no strong signals detected"
          }
        ]
      },
      "request": {
        "id": "req-1763241270639-3ymc74qym",
        "spec": "whispers-of-the-wave",
        "routing_confidence": 0,
        "context_intent": "unclear"
      },
      "response": {
        "success": true,
        "spec": "whispers-of-the-wave",
        "pattern_used": "general_support",
        "confidence": 0.7,
        "processing_time_ms": 0,
        "has_transition": false,
        "transition_spec": null
      },
      "error": null,
      "duration_ms": 1
    }
  ],
  "errors": [],
  "recommendations": [
    {
      "priority": "high",
      "category": "routing",
      "issue": "6 tests had low routing confidence (<0.5)",
      "actions": [
        "Review and expand keywords in rules.json",
        "Add more pattern examples for intent detection",
        "Consider adjusting scoring weights in router"
      ]
    }
  ]
}