<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Completo - Sistema i18n</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/themes.css">
    <style>
        body {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: rgba(10, 17, 40, 0.6);
            border-radius: 20px;
            border: 1px solid rgba(64, 224, 208, 0.3);
        }
        
        .test-header h1 {
            color: #7dd3c0;
            margin-bottom: 1rem;
        }
        
        .language-switcher {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }
        
        .lang-btn {
            padding: 0.75rem 1.5rem;
            background: rgba(128, 222, 234, 0.2);
            border: 2px solid rgba(128, 222, 234, 0.4);
            border-radius: 20px;
            color: #80deea;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .lang-btn:hover {
            background: #40e0d0;
            color: #0a1128;
            transform: scale(1.05);
        }
        
        .lang-btn.active {
            background: #40e0d0;
            color: #0a1128;
            border-color: #40e0d0;
        }
        
        .test-section {
            background: rgba(10, 17, 40, 0.6);
            border: 1px solid rgba(64, 224, 208, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .test-section h2 {
            color: #40e0d0;
            margin-top: 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(64, 224, 208, 0.3);
            padding-bottom: 0.5rem;
        }
        
        .test-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            margin: 0.75rem 0;
            border-radius: 8px;
            border-left: 3px solid #7dd3c0;
        }
        
        .test-label {
            color: #7dd3c0;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .test-value {
            color: #e0f7fa;
            font-size: 1.1rem;
        }
        
        .status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }
        
        .status.success {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }
        
        .status.warning {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
        }
        
        .status.error {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }
        
        .theme-toggle-test {
            position: fixed;
            top: 1rem;
            right: 1rem;
            padding: 0.75rem 1.5rem;
            background: rgba(128, 222, 234, 0.2);
            border: 2px solid rgba(128, 222, 234, 0.4);
            border-radius: 20px;
            color: #80deea;
            font-size: 1rem;
            cursor: pointer;
            z-index: 1000;
        }
        
        .theme-toggle-test:hover {
            background: #40e0d0;
            color: #0a1128;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .language-switcher {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle-test" onclick="toggleTheme()">
        <span id="themeToggleIcon">‚òÄÔ∏è</span> Cambiar Tema
    </button>
    
    <div class="test-header">
        <h1>üß™ Test Completo - Sistema i18n</h1>
        <p>Prueba el sistema de traducciones en los 4 idiomas</p>
        
        <div class="language-switcher">
            <button class="lang-btn active" data-lang="es" onclick="switchLanguage('es')">
                üá™üá∏ Espa√±ol
            </button>
            <button class="lang-btn" data-lang="en" onclick="switchLanguage('en')">
                üá¨üáß English
            </button>
            <button class="lang-btn" data-lang="fr" onclick="switchLanguage('fr')">
                üá´üá∑ Fran√ßais
            </button>
            <button class="lang-btn" data-lang="de" onclick="switchLanguage('de')">
                üá©üá™ Deutsch
            </button>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üìä Estado del Sistema</h2>
        <div class="test-item">
            <div class="test-label">Idioma Actual:</div>
            <div class="test-value" id="currentLang">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Tema Actual:</div>
            <div class="test-value" id="currentTheme">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Sistema i18n:</div>
            <div class="test-value" id="i18nStatus">-</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üåä Traducciones de Olas</h2>
        <div class="grid-2">
            <div class="test-item">
                <div class="test-label">Ola Tranquila:</div>
                <div class="test-value" id="wave-calm">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Ola Profunda:</div>
                <div class="test-value" id="wave-deep">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Ola Energ√©tica:</div>
                <div class="test-value" id="wave-energetic">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Ola Sanadora:</div>
                <div class="test-value" id="wave-healing">-</div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üé≠ Traducciones de Personas</h2>
        <div class="grid-2">
            <div class="test-item">
                <div class="test-label">Guardi√°n:</div>
                <div class="test-value" id="persona-guardian">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Compa√±ero:</div>
                <div class="test-value" id="persona-companion">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Explorador:</div>
                <div class="test-value" id="persona-explorer">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Sanador:</div>
                <div class="test-value" id="persona-healer">-</div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üéÆ Traducciones de UI</h2>
        <div class="test-item">
            <div class="test-label">Mensaje de Bienvenida:</div>
            <div class="test-value" id="ui-welcome">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Placeholder Input:</div>
            <div class="test-value" id="ui-placeholder">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Cambiar de Ola:</div>
            <div class="test-value" id="ui-changeWave">-</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üèÜ Traducciones de Logros</h2>
        <div class="test-item">
            <div class="test-label">T√≠tulo Galer√≠a:</div>
            <div class="test-value" id="achievements-title">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Desbloqueados:</div>
            <div class="test-value" id="achievements-unlocked">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Nuevo Logro:</div>
            <div class="test-value" id="achievements-new">-</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üìä Traducciones de Informe</h2>
        <div class="grid-2">
            <div class="test-item">
                <div class="test-label">T√≠tulo:</div>
                <div class="test-value" id="report-title">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Resumen:</div>
                <div class="test-value" id="report-summary">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">M√©tricas:</div>
                <div class="test-value" id="report-metrics">-</div>
            </div>
            <div class="test-item">
                <div class="test-label">Descargar:</div>
                <div class="test-value" id="report-download">-</div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üí¨ Traducciones de Modales</h2>
        <div class="test-item">
            <div class="test-label">T√≠tulo Modal:</div>
            <div class="test-value" id="modal-title">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Mensaje Modal:</div>
            <div class="test-value" id="modal-message">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Bot√≥n Confirmar:</div>
            <div class="test-value" id="modal-confirm">-</div>
        </div>
        <div class="test-item">
            <div class="test-label">Bot√≥n Cancelar:</div>
            <div class="test-value" id="modal-cancel">-</div>
        </div>
    </div>

    <!-- Load i18n system -->
    <script src="../js/i18n/translations.js"></script>
    <script src="../js/i18n/i18n-ui.js"></script>
    
    <script>
        // Update all translations display
        function updateTranslations() {
            if (typeof i18n === 'undefined') {
                document.getElementById('i18nStatus').innerHTML = '<span class="status error">‚ùå No disponible</span>';
                return;
            }
            
            const lang = i18n.getLanguage();
            
            // System status
            document.getElementById('currentLang').innerHTML = `<strong>${lang.toUpperCase()}</strong> <span class="status success">‚úÖ Activo</span>`;
            document.getElementById('currentTheme').innerHTML = `<strong>${document.body.getAttribute('data-theme') || 'dark'}</strong>`;
            document.getElementById('i18nStatus').innerHTML = '<span class="status success">‚úÖ Funcionando</span>';
            
            // Waves
            document.getElementById('wave-calm').textContent = i18n.t('waves.calm.name');
            document.getElementById('wave-deep').textContent = i18n.t('waves.deep.name');
            document.getElementById('wave-energetic').textContent = i18n.t('waves.energetic.name');
            document.getElementById('wave-healing').textContent = i18n.t('waves.healing.name');
            
            // Personas
            document.getElementById('persona-guardian').textContent = i18n.t('personas.guardian');
            document.getElementById('persona-companion').textContent = i18n.t('personas.companion');
            document.getElementById('persona-explorer').textContent = i18n.t('personas.deep_explorer');
            document.getElementById('persona-healer').textContent = i18n.t('personas.healer');
            
            // UI
            document.getElementById('ui-welcome').textContent = i18n.t('ui.welcome');
            document.getElementById('ui-placeholder').textContent = i18n.t('ui.placeholder');
            document.getElementById('ui-changeWave').textContent = i18n.t('ui.changeWave');
            
            // Achievements
            document.getElementById('achievements-title').textContent = i18n.t('achievements.title');
            document.getElementById('achievements-unlocked').textContent = i18n.t('achievements.unlocked');
            document.getElementById('achievements-new').textContent = i18n.t('achievements.newAchievement');
            
            // Report
            document.getElementById('report-title').textContent = i18n.t('report.title');
            document.getElementById('report-summary').textContent = i18n.t('report.summary');
            document.getElementById('report-metrics').textContent = i18n.t('report.metrics');
            document.getElementById('report-download').textContent = i18n.t('report.download');
            
            // Modals
            document.getElementById('modal-title').textContent = i18n.t('modals.changeWaveTitle');
            document.getElementById('modal-message').textContent = i18n.t('modals.changeWaveMessage');
            document.getElementById('modal-confirm').textContent = i18n.t('modals.changeWaveConfirm');
            document.getElementById('modal-cancel').textContent = i18n.t('modals.changeWaveCancel');
        }
        
        // Switch language
        function switchLanguage(lang) {
            if (typeof i18n === 'undefined') {
                alert('Sistema i18n no disponible');
                return;
            }
            
            // Update i18n
            i18n.setLanguage(lang);
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
            
            // Update all translations
            updateTranslations();
            
            console.log('üåê Language switched to:', lang);
        }
        
        // Toggle theme
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', newTheme);
            
            const icon = document.getElementById('themeToggleIcon');
            icon.textContent = newTheme === 'light' ? 'üåô' : '‚òÄÔ∏è';
            
            updateTranslations();
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            console.log('üß™ i18n test page loaded');
            
            // Check if i18n is available
            if (typeof i18n === 'undefined') {
                alert('‚ö†Ô∏è Sistema i18n no cargado. Verifica que translations.js est√© cargado.');
                return;
            }
            
            // Initial update
            updateTranslations();
            
            // Listen for language changes
            document.addEventListener('language:changed', () => {
                updateTranslations();
            });
        });
    </script>
</body>
</html>
