<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Cobertura de Tests</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a1128 0%, #001f54 100%);
            color: #e0f7fa;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            color: #40e0d0;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #87ceeb;
            margin-bottom: 30px;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .card-value {
            font-size: 3em;
            font-weight: bold;
            color: #40e0d0;
            margin-bottom: 10px;
        }
        
        .card-label {
            color: #87ceeb;
            font-size: 1.1em;
        }
        
        .progress-ring {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .section-title {
            color: #40e0d0;
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        
        .module-list {
            display: grid;
            gap: 10px;
        }
        
        .module-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
        }
        
        .module-name {
            flex: 1;
            font-weight: 500;
        }
        
        .module-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .status-tested {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }
        
        .status-untested {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }
        
        .priority {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        
        .priority-high {
            background: rgba(244, 67, 54, 0.3);
            color: #ff8a80;
        }
        
        .priority-medium {
            background: rgba(255, 193, 7, 0.3);
            color: #ffd54f;
        }
        
        .priority-low {
            background: rgba(33, 150, 243, 0.3);
            color: #82b1ff;
        }
        
        .chart-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .chart {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            padding: 20px;
        }
        
        .chart-title {
            color: #40e0d0;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .bar {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .bar-label {
            width: 120px;
            font-size: 0.9em;
        }
        
        .bar-fill {
            flex: 1;
            height: 25px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        
        .bar-progress {
            height: 100%;
            background: linear-gradient(90deg, #40e0d0 0%, #7dd3c0 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: #0a1128;
            font-weight: bold;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Reporte de Cobertura de Tests</h1>
        <p class="subtitle">Estado actual de testing del proyecto</p>
        
        <div class="summary-cards">
            <div class="card">
                <div class="card-value" id="totalModules">40</div>
                <div class="card-label">M√≥dulos Totales</div>
            </div>
            <div class="card">
                <div class="card-value" id="testedModules">20</div>
                <div class="card-label">Con Tests</div>
            </div>
            <div class="card">
                <div class="card-value" id="untestedModules">20</div>
                <div class="card-label">Sin Tests</div>
            </div>
            <div class="card">
                <div class="card-value" id="coveragePercent">50%</div>
                <div class="card-label">Cobertura</div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-title">‚úÖ M√≥dulos con Tests (20)</div>
            <div class="module-list" id="testedList"></div>
        </div>
        
        <div class="section">
            <div class="section-title">‚ùå M√≥dulos sin Tests - Prioridad Alta (0)</div>
            <div class="module-list" id="untestedHighList"></div>
        </div>
        
        <div class="section">
            <div class="section-title">‚ö†Ô∏è M√≥dulos sin Tests - Prioridad Media (1)</div>
            <div class="module-list" id="untestedMediumList"></div>
        </div>
        
        <div class="section">
            <div class="section-title">üìä Cobertura por Categor√≠a</div>
            <div class="chart-container">
                <div class="chart">
                    <div class="chart-title">Por Tipo</div>
                    <div class="bar">
                        <div class="bar-label">Core</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 40%">40%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Features</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 30%">30%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">UI</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 25%">25%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Utils</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 20%">20%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Services</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 10%">10%</div>
                        </div>
                    </div>
                </div>
                
                <div class="chart">
                    <div class="chart-title">Progreso de Fase 4</div>
                    <div class="bar">
                        <div class="bar-label">Organizaci√≥n</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 100%">100%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Tests Cr√≠ticos</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 100%">100%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Auditor√≠a</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 0%">0%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Tests Nuevos</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 0%">0%</div>
                        </div>
                    </div>
                    <div class="bar">
                        <div class="bar-label">Automatizaci√≥n</div>
                        <div class="bar-fill">
                            <div class="bar-progress" style="width: 50%">50%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const testedModules = [
            'inputValidator',
            'htmlSanitizer',
            'eventBus',
            'storageOptimizer',
            'cache',
            'logger',
            'performance',
            'lazyLoader',
            'journeyCompletion',
            'conversationEnhancer',
            'adaptiveAssistance',
            'responsePatterns',
            'stateClassifier',
            'achievementSystem',
            'i18n',
            'suggestions',
            'modal',
            'security',
            'expressionMetrics',
            'themeSystem'
        ];
        
        const untestedHigh = [];
        
        const untestedMedium = [
            { name: 'responseValidator', priority: 'medium' }
        ];
        
        function renderModuleList(modules, containerId, tested = true) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            modules.forEach(module => {
                const name = typeof module === 'string' ? module : module.name;
                const priority = typeof module === 'object' ? module.priority : null;
                
                const item = document.createElement('div');
                item.className = 'module-item';
                item.innerHTML = `
                    <div class="module-name">${name}</div>
                    ${priority ? `<span class="priority priority-${priority}">${priority.toUpperCase()}</span>` : ''}
                    <div class="module-status ${tested ? 'status-tested' : 'status-untested'}">
                        ${tested ? '‚úÖ Testeado' : '‚ùå Sin tests'}
                    </div>
                `;
                container.appendChild(item);
            });
        }
        
        // Renderizar listas
        renderModuleList(testedModules, 'testedList', true);
        renderModuleList(untestedHigh, 'untestedHighList', false);
        renderModuleList(untestedMedium, 'untestedMediumList', false);
        
        // Log de informaci√≥n
        console.log('üìä Reporte de Cobertura cargado');
        console.log(`‚úÖ M√≥dulos con tests: ${testedModules.length}`);
        console.log(`‚ùå M√≥dulos sin tests: ${untestedHigh.length + untestedMedium.length}`);
        console.log(`üìà Cobertura: ${Math.round((testedModules.length / 40) * 100)}%`);
    </script>
</body>
</html>
