/**
 * Wave-Specific Backgrounds
 * Each wave type has unique colors for dark and light themes
 * Ensures proper contrast and visibility
 */

/* ============================================
   CALM WAVE (Ola Tranquila) ðŸŒŠ
   Peaceful blues and soft teals
   ============================================ */

html[data-wave="calm"] .ocean-background,
body[data-wave="calm"] .ocean-background {
    background: linear-gradient(135deg,
            #001d3d 0%,
            #48cae4 100%
        );
    background-size: 400% 400%;
    animation: waveGradient 60s ease-in-out infinite;
}

html[data-wave="calm"],
body[data-wave="calm"] {
    --text-primary: #e0f7fa;
    --text-secondary: #b3e5fc;
}

html[data-wave="calm"][data-theme="light"] .ocean-background,
body[data-wave="calm"][data-theme="light"] .ocean-background {
    background: linear-gradient(135deg,
            #90e0ef 0%,
            #0096c7 100%
        );
}

html[data-wave="calm"][data-theme="light"],
body[data-wave="calm"][data-theme="light"] {
    --text-primary: #01579b;
    --text-secondary: #0277bd;
}

/* ============================================
   DEEP WAVE (Ola Profunda) ðŸŒ€
   Deep purples and mysterious blues
   ============================================ */

html[data-wave="deep"] .ocean-background,
body[data-wave="deep"] .ocean-background {
    background: linear-gradient(135deg,
            #1a0b2e 0%,
            #b185db 100%
        );
    background-size: 400% 400%;
    animation: waveGradient 60s ease-in-out infinite;
}

html[data-wave="deep"],
body[data-wave="deep"] {
    --text-primary: #f0e6ff;
    --text-secondary: #d4c5f0;
}

html[data-wave="deep"][data-theme="light"] .ocean-background,
body[data-wave="deep"][data-theme="light"] .ocean-background {
    background: linear-gradient(135deg,
            #c77dff 0%,
            #3c096c 100%
        );
}

html[data-wave="deep"][data-theme="light"],
body[data-wave="deep"][data-theme="light"] {
    --text-primary: #1a0d4d;
    --text-secondary: #2d1b69;
}

/* ============================================
   ENERGETIC WAVE (Ola EnergÃ©tica) âš¡
   Vibrant oranges and energetic yellows
   ============================================ */

html[data-wave="energetic"] .ocean-background,
body[data-wave="energetic"] .ocean-background {
    background: linear-gradient(135deg,
            #370617 0%,
            #fb8500 100%
        );
    background-size: 400% 400%;
    animation: waveGradient 50s ease-in-out infinite;
}

html[data-wave="energetic"],
body[data-wave="energetic"] {
    --text-primary: #fff8e7;
    --text-secondary: #ffe4b3;
}

html[data-wave="energetic"][data-theme="light"] .ocean-background,
body[data-wave="energetic"][data-theme="light"] .ocean-background {
    background: linear-gradient(135deg,
            #ffbe98 0%,
            #9d0208 100%
        );
}

html[data-wave="energetic"][data-theme="light"],
body[data-wave="energetic"][data-theme="light"] {
    --text-primary: #4a2615;
    --text-secondary: #6b3a1e;
}

/* ============================================
   HEALING WAVE (Ola Sanadora) ðŸ’™
   Soft greens and healing aquas
   ============================================ */

html[data-wave="healing"] .ocean-background,
body[data-wave="healing"] .ocean-background {
    background: linear-gradient(135deg,
            #1b4332 0%,
            #95d5b2 100%
        );
    background-size: 400% 400%;
    animation: waveGradient 60s ease-in-out infinite;
}

html[data-wave="healing"],
body[data-wave="healing"] {
    --text-primary: #e8f8f3;
    --text-secondary: #c8f0e3;
}

html[data-wave="healing"][data-theme="light"] .ocean-background,
body[data-wave="healing"][data-theme="light"] .ocean-background {
    background: linear-gradient(135deg,
            #95d5b2 0%,
            #2d6a4f 100%
        );
}

html[data-wave="healing"][data-theme="light"],
body[data-wave="healing"][data-theme="light"] {
    --text-primary: #1f4a3a;
    --text-secondary: #2a5f4d;
}

/* ============================================
   DEFAULT (No wave selected)
   Original ocean colors
   ============================================ */

html:not([data-wave]) .ocean-background,
html[data-wave=""] .ocean-background,
body:not([data-wave]) .ocean-background,
body[data-wave=""] .ocean-background {
    background: linear-gradient(135deg,
            #03045e 0%,
            /* Deep navy */
            #023e8a 20%,
            /* Dark blue */
            #0077b6 40%,
            /* Ocean blue */
            #0096c7 60%,
            /* Bright blue */
            #00b4d8 80%,
            /* Cyan */
            #48cae4 100%
            /* Light cyan */
        );
    background-size: 400% 400%;
    animation: waveGradient 15s ease-in-out infinite;
}

/* DEFAULT (Light theme - no wave selected) */
html:not([data-wave])[data-theme="light"] .ocean-background,
html[data-wave=""][data-theme="light"] .ocean-background,
body:not([data-wave])[data-theme="light"] .ocean-background,
body[data-wave=""][data-theme="light"] .ocean-background {
    background: linear-gradient(135deg,
            #90e0ef 0%,
            #0096c7 100%
        );
    background-size: 400% 400%;
    animation: waveGradient 60s ease-in-out infinite;
}

/* ============================================
   ENHANCED WAVE ANIMATION (Multi-layer)
   ============================================ */

.ocean-background::before,
.ocean-background::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88.7'%3E%3Cpath d='M800 56.9c-155.5 0-204.9-50-405.5-49.9-200 0-250 49.9-394.5 49.9v31.8h800v-.2-31.6z' fill='%23ffffff' opacity='0.1'/%3E%3C/svg%3E");
    background-position: 0 bottom;
    background-repeat: repeat-x;
    background-size: 1000px 100%;
    animation: waveMove 20s linear infinite;
    transform: translate3d(0, 0, 0);
    opacity: 0.1;
    pointer-events: none;
}

.ocean-background::before {
    animation: waveMove 25s linear infinite reverse;
    opacity: 0.05;
    background-size: 1200px 100%;
    bottom: 0;
    top: auto;
    height: 40%;
}

.ocean-background::after {
    animation: waveMove 15s linear infinite;
    opacity: 0.08;
    background-size: 800px 100%;
    bottom: 0;
    top: auto;
    height: 30%;
}

@keyframes waveMove {
    0% {
        background-position-x: 0;
    }

    100% {
        background-position-x: 1000px;
    }
}

/* Theme-specific wave opacity adjustments */
html[data-theme="light"] .ocean-background::before,
html[data-theme="light"] .ocean-background::after,
body[data-theme="light"] .ocean-background::before,
body[data-theme="light"] .ocean-background::after {
    filter: invert(1);
    /* Make waves dark for light theme */
    opacity: 0.05;
}

/* ============================================
   TEXT CONTRAST ADJUSTMENTS
   Ensure text is always visible
   ============================================ */

body {
    color: var(--text-primary, #e0f7fa);
}

.whisper,
.wave-reflection,
.user-message p,
.mode-text,
.suggestions-title,
.suggestion-btn {
    color: var(--text-primary, #e0f7fa);
}

.typing-indicator-text,
.suggestions-title {
    color: var(--text-secondary, #b3e5fc);
}

/* ============================================
   THEME TRANSITION HELPER
   Forces background recalculation on theme change
   ============================================ */

.ocean-background.theme-transitioning {
    transition: background 0.3s ease-in-out;
}

.ocean-background {
    will-change: background;
    transform: translateZ(0);
    backface-visibility: hidden;
}